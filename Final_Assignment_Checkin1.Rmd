```{r}
Jaini Shah
QBS 103 Final Project
Summer 2024

Submission #1
```

```{r}
library(dplyr)
library(tidyr)
# set the working directory to where my csv file is located
getwd()
setwd("/Users/jainishah/Desktop/final_project_data")

#reading gene expression data and metadata files 
gene_expression <- read.csv("genes.csv")
metadata <- read.csv("metadata.csv")

head(gene_expression)
head(metadata)

# checking structure of gene expression data and metadata data 
str(gene_expression)
str(metadata)

# melting gene_expression data (using Tidyverse) from wide data to long data so the two files can be merged 
gene_long <- gene_expression %>%
  tidyr::gather(key = "ParticipantID", value = "Expression", -X)

# renaming the gene column to "Gene"
names(gene_long)[names(gene_long) == "X"] <- "Gene"

# checking the first 6 rows of the melted data
head(gene_long)

# merging the melted gene expression data with the metadata using the shared column of "ParticipantID"
merged_data <- merge(gene_long, metadata, by.x = "ParticipantID", by.y = "participant_id")

head(merged_data)

# filtered data using 'filter(Gene == A1CF) to only extract rows for where the gene is A1CF
# selecting columns for the covariate variables that I picked 
clean_data <- merged_data %>%
  filter(Gene == "A1CF") %>%
  select(Gene, ParticipantID,Expression, age, sex, icu_status)

head(clean_data)

# checking data types of the columns
str(clean_data)

# converting age data to numeric - if not already
clean_data$age <- as.numeric(clean_data$age)

# converting sex and icu_status to factors - if not already
clean_data$sex <- as.factor(clean_data$sex)
clean_data$icu_status <- as.factor(clean_data$icu_status)

# confirming conversions 
str(clean_data)

# removing rows with missing values to 'final_data" whicih will be utilized for data visualization
final_data <- na.omit(clean_data)
```



```{r}
#Histogram 

library(ggplot2)

ggplot(final_data, aes(x = Expression)) + 
  geom_histogram(binwidth = 1, fill = "pink", color = "red") +
  labs(title = "Histogram of Gene Expression for A1CF",
       x = "Gene Expression",
       y = "Frequency") + 
  theme_minimal()

```



```{r}
Scatterplot



```


```{r}
Boxplot 
```


